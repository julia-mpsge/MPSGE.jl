<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Optimizations · MPSGE.jl</title><meta name="title" content="Optimizations · MPSGE.jl"/><meta property="og:title" content="Optimizations · MPSGE.jl"/><meta property="twitter:title" content="Optimizations · MPSGE.jl"/><meta name="description" content="Documentation for MPSGE.jl."/><meta property="og:description" content="Documentation for MPSGE.jl."/><meta property="twitter:description" content="Documentation for MPSGE.jl."/><meta property="og:url" content="https://julia-mpsge.github.io/MPSGE.jl/overview/optimizations/"/><meta property="twitter:url" content="https://julia-mpsge.github.io/MPSGE.jl/overview/optimizations/"/><link rel="canonical" href="https://julia-mpsge.github.io/MPSGE.jl/overview/optimizations/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MPSGE.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../">MPSGE</a></li></ul></li><li><span class="tocitem">Overview</span><ul><li><a class="tocitem" href="../introduction/">Overview of MPSGE</a></li><li><a class="tocitem" href="../variables/">MPSGE Variables</a></li><li><a class="tocitem" href="../production/">Production Blocks</a></li><li><a class="tocitem" href="../demand/">Demand Blocks</a></li><li><a class="tocitem" href="../constraints/">Model Equations</a></li><li class="is-active"><a class="tocitem" href>Optimizations</a><ul class="internal"><li><a class="tocitem" href="#Subexpressions"><span>Subexpressions</span></a></li><li><a class="tocitem" href="#What-the-Model-stores"><span>What the Model stores</span></a></li></ul></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/getting_started/introduction/">Introduction</a></li><li><a class="tocitem" href="../../Tutorials/getting_started/first_example/">Getting Started with MPSGE</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Intermediate Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/intermediate_examples/m22/">Closed <span>$2\times2$</span> Economy with Intermediate Inputs and Nesting</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Robinson Crusoe</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/robinson_crusoe/introduction/">Robinson Crusoe - Introduction</a></li><li><a class="tocitem" href="../../Tutorials/robinson_crusoe/basic_rc/">One Consumer, One Producer, Two Goods</a></li></ul></li></ul></li><li><span class="tocitem">Mathematical Background</span><ul><li><a class="tocitem" href="../../how_it_works/">How MPSGE Works</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../../docs/">API Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Overview</a></li><li class="is-active"><a href>Optimizations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Optimizations</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/julia-mpsge/MPSGE.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/julia-mpsge/MPSGE.jl/blob/main/docs/src/overview/optimizations.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Optimizations"><a class="docs-heading-anchor" href="#Optimizations">Optimizations</a><a id="Optimizations-1"></a><a class="docs-heading-anchor-permalink" href="#Optimizations" title="Permalink"></a></h1><p>This section is going to detail some of the optimizations that MPSGE employs to speed up model construction and solving. This is what sets MPSGE apart from explicitly writing the equivalent model in JuMP.</p><h2 id="Subexpressions"><a class="docs-heading-anchor" href="#Subexpressions">Subexpressions</a><a id="Subexpressions-1"></a><a class="docs-heading-anchor-permalink" href="#Subexpressions" title="Permalink"></a></h2><p>The first major optimization is the use of subexpressions to reduce the size of the generated JuMP model. Cost functions can get very large, depending on the nesting and index, and get used multiple times in the model. To avoid multiple evaluations of large expressions, MPSGE stores cost functions as variables in the JuMP model. This significantly reduces the size of the generated model and speeds up solving time as large expressions do not need to be re-evaluated.</p><div class="admonition is-info" id="PATH-Instability-fc8e9a8b011137ac"><header class="admonition-header">PATH Instability<a class="admonition-anchor" href="#PATH-Instability-fc8e9a8b011137ac" title="Permalink"></a></header><div class="admonition-body"><p>The PATH solver may be slightly unstable when there are a large number of subexpressions. We are working on recommendations to mitigate this issue.</p></div></div><h2 id="What-the-Model-stores"><a class="docs-heading-anchor" href="#What-the-Model-stores">What the Model stores</a><a id="What-the-Model-stores-1"></a><a class="docs-heading-anchor-permalink" href="#What-the-Model-stores" title="Permalink"></a></h2><p>An MPSGE Model stores references to objects to make constructing the constraints faster. Specifically, the model stores the following mappings:</p><ul><li>Sectors to their production blocks.</li><li>Consumers to their demand blocks.</li><li>Commodities to a list of sectors that produce/consume them.</li><li>Commodities that consumers demand/endow them. </li></ul><p>Each of these is designed to make constructing the model equations faster by avoiding searching through all production/demand blocks. For example, consider calculating the market clearance constraint for a commodity. Instead of searching through all production blocks to find which sectors produce/consume the commodity, we can simply look up the list of sectors that produce/consume the commodity in the model&#39;s mapping. When first implemented this resulted in a significant speedup for large models.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../constraints/">« Model Equations</a><a class="docs-footer-nextpage" href="../../Tutorials/getting_started/introduction/">Introduction »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 9 January 2026 17:15">Friday 9 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
